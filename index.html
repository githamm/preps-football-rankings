<!DOCTYPE html>
<html class="no-js" lang="en">

<head>
    <meta charset="utf-8">
    <meta name="robots" content="noindex,nofollow">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Prep Football Rankings Table Generator | The Denver Post</title>
    <link rel="shortcut icon" href="https://extras.mnginteractive.com/live/media/favIcon/dpo/favicon.ico" type="image/x-icon" />

    <head>
        <script src="https://code.jquery.com/jquery-3.7.1.min.js" integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/handlebars.js/4.7.8/handlebars.min.js" integrity="sha512-E1dSFxg+wsfJ4HKjutk/WaCzK7S2wv1POn1RRPGh8ZK+ag9l244Vqxji3r6wgz9YBf6+vhQEYJZpSjqWFPg9gg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
        <style>
            body {
          font-family: sans-serif;
          margin: 1% 3% 2% 3%;
        }
        table {
          border-collapse: collapse;
        }
        input {
        margin: 0 3px 5px 0;
        height: 25px;
        }
        .input-row {
          margin-bottom: 5px;
          padding: 10px;
        }
        #html-output-container {
          background: #ffdab9;
          padding: 30px;
        }
        .hide-show-container {
          display: none;
          background: #ffdab9;
          margin-top: 20px;
          padding: 1px 0 0 30px;
        }
    </style>
        <script>
            function copyToClipboard(element) {
          var $temp = $("<input>");
          $("body").append($temp);
          $temp.val($(element).text()).select();
          document.execCommand("copy");
          $temp.remove();
        }

        </script>
    </head>

<body>
    <script id="table-output" type="text/x-handlebars-template">
        <div id="html-output-container">
            {{tableOutput}} 
        </div>
    </script>
    <h1>Prep Football Rankings Table Generator</h1>
    <p>Do each school classification (5A, 4A, 3A) separately and <strong>refresh the page before starting a new table</strong>. Complete fields and click button to show the table preview and the code to copy and paste into a WordPress article window in <strong>Text</strong> view.</p>
    <div class="hide-show-container">
        <h2>Table Code</h2>
        <button onclick="copyToClipboard('#html-output-container')">Click to copy code</button>
    </div>
    <div id="table-code-output"></div>
    <div id="whole-table">
        <div id="table-title"></div>
        <div id="table-div"></div>
    </div>
    <form id="team-rankings-form">
        <div class="input-row"><input type="text" name="class" value="Class "><br>
            <input type="text" name="team" value="" placeholder="No. 1 team">
            <input type="text" name="record" value="" placeholder="Record">
            <input type="text" name="previous" value="" placeholder="Previous">
            <input type="text" name="lastweek" value="" placeholder="Last week" size="50"><br>
            <input type="text" name="comment" value="" placeholder="Comment" size="200"></div>
        <div class="input-row"><input type="text" name="team" value="" placeholder="No. 2 team">
            <input type="text" name="record" value="" placeholder="Record">
            <input type="text" name="previous" value="" placeholder="Previous">
            <input type="text" name="lastweek" value="" placeholder="Last week" size="50"><br>
            <input type="text" name="comment" value="" placeholder="Comment" size="200"></div>
        <div class="input-row"><input type="text" name="team" value="" placeholder="No. 3 team">
            <input type="text" name="record" value="" placeholder="Record">
            <input type="text" name="previous" value="" placeholder="Previous">
            <input type="text" name="lastweek" value="" placeholder="Last week" size="50"><br>
            <input type="text" name="comment" value="" placeholder="Comment" size="200"></div>
        <div class="input-row"><input type="text" name="team" value="" placeholder="No. 4 team">
            <input type="text" name="record" value="" placeholder="Record">
            <input type="text" name="previous" value="" placeholder="Previous">
            <input type="text" name="lastweek" value="" placeholder="Last week" size="50"><br>
            <input type="text" name="comment" value="" placeholder="Comment" size="200"></div>
        <div class="input-row"><input type="text" name="team" value="" placeholder="No. 5 team">
            <input type="text" name="record" value="" placeholder="Record">
            <input type="text" name="previous" value="" placeholder="Previous">
            <input type="text" name="lastweek" value="" placeholder="Last week" size="50"><br>
            <input type="text" name="comment" value="" placeholder="Comment" size="200"></div>
        <div class="input-row"><input type="text" name="team" value="" placeholder="No. 6 team">
            <input type="text" name="record" value="" placeholder="Record">
            <input type="text" name="previous" value="" placeholder="Previous">
            <input type="text" name="lastweek" value="" placeholder="Last week" size="50"><br>
            <input type="text" name="comment" value="" placeholder="Comment" size="200"></div>
        <div class="input-row"><input type="text" name="team" value="" placeholder="No. 7 team">
            <input type="text" name="record" value="" placeholder="Record">
            <input type="text" name="previous" value="" placeholder="Previous">
            <input type="text" name="lastweek" value="" placeholder="Last week" size="50"><br>
            <input type="text" name="comment" value="" placeholder="Comment" size="200"></div>
        <div class="input-row"><input type="text" name="team" value="" placeholder="No. 8 team">
            <input type="text" name="record" value="" placeholder="Record">
            <input type="text" name="previous" value="" placeholder="Previous">
            <input type="text" name="lastweek" value="" placeholder="Last week" size="50"><br>
            <input type="text" name="comment" value="" placeholder="Comment" size="200"></div>
        <div class="input-row"><input type="text" name="team" value="" placeholder="No. 9 team">
            <input type="text" name="record" value="" placeholder="Record">
            <input type="text" name="previous" value="" placeholder="Previous">
            <input type="text" name="lastweek" value="" placeholder="Last week" size="50"><br>
            <input type="text" name="comment" value="" placeholder="Comment" size="200"></div>
        <div class="input-row"><input type="text" name="team" value="" placeholder="No. 10 team">
            <input type="text" name="record" value="" placeholder="Record">
            <input type="text" name="previous" value="" placeholder="Previous">
            <input type="text" name="lastweek" value="" placeholder="Last week" size="50"><br>
            <input type="text" name="comment" value="" placeholder="Comment" size="200"></div>
        <div class="input-row">
            <input type="submit" name="generate-table" value="Make me a table!" id="generate-table">
        </div>
    </form>
    <script>
    $("form").on("submit", function(event) {
        data = $(this).serializeArray();
        event.preventDefault();
        let teamData = [];
        for (var i = 0; i < data.length; i++) {
            var j = i + 1;
            var k = j + 1;
            var l = k + 1;
            var m = l + 1;
            var thingtoAdd = {};
            if (data[i].name === 'team') {
                thingtoAdd.class = data[0].value
                thingtoAdd.team = data[i].value
                thingtoAdd.record = data[j].value
                thingtoAdd.previous = data[k].value
                thingtoAdd.lastweek = data[l].value
                thingtoAdd.comment = data[m].value
                teamData.push(thingtoAdd)
            }
        }
        $(".hide-show-container").css("display", "block");

        document.body.scrollTop = document.documentElement.scrollTop = 0;
        
        console.log(teamData);

        var tableTitle = $('<h2 style="font-size:25px;margin-bottom:10px">').text(teamData[0].class);
        var table = $('<table id="rankings-table" width="100%">');
        var tr = $('<tr>');
        var tableHeader = ['Team', 'Record', 'Previous', 'Last week'];

        // Create table
        for (var j = 0; j < tableHeader.length; j++) {
            tr.append($('<th style="text-align:left;font-weight:bold;border-bottom:1px solid #000;padding-left:5px">').text(tableHeader[j]));
        }
        table.append(tr);

        for (var i = 0; i < teamData.length; i++) {
            var j = i + 1;
            var tableRows = table.append(
                $('<tr style="background-color:#e8e8e8">').append(
                    $('<td style="font-weight:bold;padding:5px">').text(j + '. ' + teamData[i].team),
                    $('<td style="padding:5px">').text(teamData[i].record),
                    $('<td style="padding:5px">').text(teamData[i].previous),
                    $('<td style="padding:5px">').text(teamData[i].lastweek)),
                $('<tr>').append(
                    $('<td colspan="4" style="line-height:23px;padding:5px">').text(teamData[i].comment)
                ));
        }

        //table.css("border", "solid");
        $('#table-title').append(tableTitle);
        $('#table-div').append(table);
        var tableHolder = document.getElementById('whole-table');
        console.log(tableHolder.outerHTML);

        var tableHtmlOutput = tableHolder.outerHTML;
        var template = $('#table-output').html();
        var context = { 'tableOutput': tableHtmlOutput };
        var templateScript = Handlebars.compile(template);
        var html = templateScript(context);
        // $(document.body).append(html);
        $('#table-code-output').append(html);
    });
    </script>
</body>

</html>